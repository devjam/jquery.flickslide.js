/* jquery.flickslide.js v 1.4 Copyright (c) 2013 SHIFTBRAIN Inc. Licensed under the MIT license. https://github.com/devjam */
(function(){var $,FlickSlide,pluginname;$=jQuery;pluginname="FlickSlide";FlickSlide=function(){function t(t,n,r){this.element=$(r);this.options=$.extend(true,{},e,t);if(this.setup()){this._success=true}this}var e;e={imagearea:".imagearea",naviarea:".naviarea",navibtn:".navibtn",interval:300,duration:500,easing:"liner",width:0,"min-width":0,resize:false};t.prototype.setOption=function(e){return this.options=$.extend(true,{},t.defaults,this.options,e)};t.prototype.setup=function(){var e,t,n,r,i,s,o=this;t=this.options;if(t.imagearea instanceof jQuery.fn.init){this.imagearea=t.imagearea}else{this.imagearea=this.element.find(t.imagearea)}if(t.naviarea instanceof jQuery.fn.init){this.naviarea=t.naviarea}else{this.naviarea=this.element.find(t.naviarea)}if(t.navibtn instanceof jQuery.fn.init){e=t.navibtn}else{e=this.element.find(t.navibtn)}this.btn_base=e.parent().html();this.stage=this.imagearea.find(".slidecontent");n=this.imagearea.size();r=this.naviarea.size();i=e.size();if(n!==1||r!==1||i<1){return false}s={cursor:"pointer",position:"relative",overflow:"hidden"};this.imagearea.css(s);this.isTouch="ontouchstart"in window;this.imagearea.on({"touchstart mousedown":function(e){var t;if(o.isTouch){if(e.touches!=null){t=e.touches[0]}else{t=e.originalEvent.touches[0]}o.pageX=t.pageX}else{o.pageX=e.pageX}o.startX=o.pageX;o.x=parseInt(o.stage.css("left"));o.touched=true;o.waitTime=0;o.stage.stop().queue([]);if(!o.isTouch){e.preventDefault();return e.stopPropagation()}},"touchmove mousemove":function(e){var t,n,r;if(!o.touched){return}if(o.isTouch){if(e.touches!=null){n=e.touches[0]}else{n=e.originalEvent.touches[0]}t=n.pageX}else{t=e.pageX}r=t-o.pageX;if(r<-2||r>2){o.x=o.x+t-o.pageX;o.pageX=t;o.stage.css("left",o.x);o.updateNavi(o.x);e.preventDefault();return e.stopPropagation()}},"touchend mouseup mouseout":function(e){var t,n,r,i,s,u,a,f;if(!o.touched){return}o.touched=false;if(o.isTouch){try{if(e.touches!=null){a=e.touches[0]}else{a=e.originalEvent.touches[0]}s=a.pageX}catch(e){s=o.pageX}}else{s=e.pageX}f=o.x+s-o.pageX;o.pageX=s;if(o.startX<o.pageX){f+=o.areaWidth*.5}else if(o.startX>o.pageX){f-=o.areaWidth*.5}r=Math.round(f*-1/o.areaWidth);n=o.naviarea.find("a > *").size();if(r>n-1){r=n-1}if(r<0){r=0}o.x=o.areaWidth*r*-1;i=o.stage.css("left").replace("px","");t=o.x-i;if(t<0){t*=-1}u=o.options.duration*(t/o.areaWidth);o.stage.animate({left:o.x},u,o.options.easing);o.updateNavi(o.x);e.preventDefault();return e.stopPropagation()}});if(t.resize){if(typeof Util!=="undefined"&&Util!==null){Util.window.bindResize(function(){return o.resize})}else{$(window).bind("resize",function(){return o.resize})}}return true};t.prototype.init=function(){var e,t=this;this.updateSize();this.setImagesPosition();this.setNavi();this.updateNavi(this.x);if(this.Timer!=null){clearTime(this.Timer)}if(this.options.interval>0){e=this.stage.find("li").size();if(e>1){this.waitTime=0;return this.Timer=setInterval(function(){return t.update},1e3/100)}}};t.prototype.update=function(){var e,t,n,r;if(this.imagearea!=null&&this.imagearea.size()>0){if(!this.touched){this.waitTime++;if(this.waitTime>this.options.interval){this.waitTime=0;r=this.stage.position().left;r*=-1;t=Math.round(r/this.areaWidth);e=this.naviarea.find("a > *").size();n=(t+1)%e;r=n*this.areaWidth*-1;this.stage.animate({left:r},options.duration);this.updateNavi(r);return this.x=r}}}else{return this.destory()}};t.prototype.destory=function(){if(typeof Util!=="undefined"&&Util!==null){Util.window.unbindResize(this.resize)}else{$(window).unbind("resize",this.resize)}if(this.Timer!=null){clearInterval(this.Timer)}this.imagearea=null;this.naviarea=null;this.stage=null;this.resize=null;return this.update=null};t.prototype.resize=function(){if(this.imagearea!=null&&this.imagearea.size()>0){this.updateSize();this.setImagesPosition();return this.updateNavi(this.x)}else{return this.destory()}};t.prototype.setImage=function(e){var t,n;if(this.Timer!=null){clearInterval(this.Timer)}this.naviarea.empty();this.imagearea.empty();this.imagearea.append('<ul class="slidecontent"></ul>');this.stage=this.imagearea.find(".slidecontent");n=e.length;t=0;while(t<n){this.stage.append('<li><img src="'+e[t]+'" ></li>');t++}return this.init()};t.prototype.updateSize=function(){var e;if(this.options.width>0){e=this.options.width}else{e=this.imagearea.width()}if(e<this.options["min-width"]){e=this.options["min-width"]}this.areaWidth=e;return this.areaHeight=this.imagearea.height()};t.prototype.setNavi=function(){var e,t,n,r=this;e=this.naviarea.find("a > *").size();n=this.imagearea.find("li").size();if(n===1){this.naviarea.css("display","none");return}else{this.naviarea.css("display","block")}if(e<n){t=e;while(t<n){this.naviarea.append(this.btn_base);t++}}if($.fn.common!=null){this.naviarea.common("onoffButton")}return this.naviarea.find("a > *").each(function(e,t){if(e<n){$(t).css("display","block");return $(t).click(function(t){r.waitTime=0;r.x=e*r.areaWidth*-1;r.stage.animate({left:r.x},r.options.duration,r.options.easing);r.updateNavi(r.x);t.preventDefault();return t.stopPropagation()})}else{return $(t).css("display","none")}})};t.prototype.updateNavi=function(e){var t,n,r,i=this;r=e*-1;n=Math.round(r/this.areaWidth);t=this.naviarea.find("a > *").size();if(n>t-1){n=t-1}if(n<0){n=0}return this.naviarea.find("a > *").each(function(e,t){if(n!==e){$(t).removeClass("active");return $(t).trigger("mouseout")}else{if(!$(t).hasClass("active")||!i.touched){i.element.trigger("slidestart",n)}$(t).trigger("mouseover");return $(t).addClass("active")}})};t.prototype.setImagesPosition=function(){var e,t,n,r,i,s,o=this;if(this.x!=null){s=this.x*-1}else{this.x=0;s=-1}t=this.stage.find("li").size();i=this.stage.find("li").width();this.stage.width(this.areaWidth*t);this.stage.find("li").each(function(e,t){return $(t).width(o.areaWidth)});n=Math.round(s/i);if(n>t-1){n=t-1}if(n<0){n=0}r=this.areaWidth*n;if(r!==s){this.x=r*-1;this.stage.stop().queue([]);e=1;if(s>=0){e=this.options.duration}return this.stage.animate({left:this.x},e,this.options.easing)}};return t}();$.fn[pluginname]=function(config,args,callback){var myclass;myclass=eval(pluginname);if(config==null){config={}}switch(typeof config){case"string":return this.each(function(){var e;e=$.data(this,pluginname);if(e==null){return false}if(!$.isFunction(e[config])){return false}return e[config].apply(e,args)});case"object":return this.each(function(){var e;e=$.data(this,pluginname);if(e){return e.setOption(config)}else{e=new myclass(config,callback,this);if(e._success!=null){return $.data(this,pluginname,e)}}})}}}).call(this);
